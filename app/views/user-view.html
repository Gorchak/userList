<div class="header--user-view">
  <span class="user-view-title">{{userViewTitle}}</span>
</div>

<div class="form-container">
  <form name="userForm" novalidate form-validation user-form="userForm" errors="errors" is-form-valid="isFormValid">
    <div class="form-group--user">
      <label class="form-group__label" for="username">Username*</label>
      <input
        type="text"
        class="form-control form-group__input"
        name="username"
        ng-model="user.username"
        required
      />

      <div ng-show="errors.username" class="alert--user-form">{{ errors.username }}</div>
    </div>
    <div class="form-group--user">
      <label class="form-group__label" for="firstName">First Name*</label>
      <input
        type="text"
        class="form-control form-group__input"
        name="firstName"
        ng-model="user.first_name"
        required
      />
      <div ng-show="errors.firstName" class="alert--user-form">{{errors.firstName}}</div>
    </div>
    <div class="form-group--user">
      <label class="form-group__label" for="lastName">Last Name*</label>
      <input
        type="text"
        class="form-control form-group__input"
        name="lastName"
        ng-model="user.last_name"
        required
      />
      <div ng-show="errors.lastName" class="alert--user-form">{{errors.lastName}}</div>
    </div>
    <div class="form-group--user">
      <label class="form-group__label" for="email">Email*</label>
      <input
        type="email"
        class="form-control form-group__input"
        name="email"
        ng-model="user.email"
        required
      />
      <div ng-show="errors.email && userForm.email.$touched" class="alert--user-form">{{errors.email}}</div>
    </div>
    <div class="form-group--user">
      <label class="form-group__label" for="userType">User Type*</label>
      <select
        class="form-control form-group__select"
        name="userType"
        ng-model="user.user_type"
        required
      >
        <option value="">Select user type</option>
        <option ng-repeat="type in userTypes" value="{{type}}">{{type}}</option>
      </select>
      <div ng-show="errors.userType" class="alert--user-form">{{errors.userType}}</div>
    </div>
    <div class="form-group--user">
      <label class="form-group__label" for="password">Password*</label>
      <input
        type="password"
        class="form-control form-group__input"
        name="password"
        ng-model="user.password"
        ng-pattern="/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/"
        required
      />
      <div ng-show="errors.password" class="alert--user-form">{{errors.password}}</div>
    </div>
    <div class="form-group--user">
      <label class="form-group__label" for="repeatPassword">Repeat password*:</label>
      <input
        type="password"
        class="form-control form-group__input"
        name="repeatPassword"
        ng-model="repeatedPassword"
        required
      />
      <div ng-show="errors.repeatPassword" class="alert--user-form">{{errors.repeatPassword}}</div>
    </div>
    <div
      class="form-group--user buttons--user-form"
      ng-class="{'buttons--centered': isNewUser}"
    >
      <button
        ng-if="!isNewUser"
        type="button"
        class="btn--default btn--red"
        ng-click="deleteUser(user.id)"
      >
        Delete
      </button>
      <button
        type="button"
        class="btn--default btn--blue"
        ng-click="saveUser(user)"
        ng-disabled="!isFormValid"
      >
        {{userSaveButtonTitle}}
      </button>
    </div>
  </form>
</div>
